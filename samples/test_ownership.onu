the module called OwnershipVerification
    with concern: resource lifecycle management

-- Consumes a string
the effect behavior called take-custody
    with intent: take ownership of a string and broadcast it
    takes:
        a string called s
    delivers: nothing
    as:
        derivation: d1 derives-from nothing broadcasts s
        nothing

the effect behavior called run
    with intent: verify move semantics and branch reconciliation
    takes: nothing
    delivers: nothing
    as:
        -- 1. Test move semantics
        derivation: original derives-from "Linear Resource"
        original utilizes take-custody
        -- 'original' should now be unreachable/consumed
        
        -- 2. Test branch reconciliation
        derivation: condition derives-from 1
        derivation: msg derives-from "Branch Resource"
        
        if condition matches 1
            then msg utilizes take-custody -- msg consumed here
            else nothing                   -- msg NOT consumed here
            
        -- After the if, 'msg' should be considered consumed because it 
        -- was consumed in at least one branch. Valgrind should see no leaks.
        
        derivation: d2 derives-from nothing broadcasts "PASS: Ownership verification complete."
        nothing
